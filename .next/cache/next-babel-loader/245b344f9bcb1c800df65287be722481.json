{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Head from 'next/head';\nimport Link from 'next/link';\n\nvar fetch = require('node-fetch'); // Components\n\n\nimport Header from '../src/components/container/header/Header'; // libs\n\nimport { getCookie } from '../src/libs/cookieHelper'; // Actions\n\nvar Index =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Index, _Component);\n\n  function Index() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Index);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Index)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"bnetTestAuth\", function () {\n      fetch(\"http://localhost:3000/api/auth/bnet/callback\", {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json, text/plain, */*',\n          'Content-Type': 'application/json'\n        },\n        credentials: 'same-origin'\n      }).then(function (resp) {\n        return resp.json();\n      }).then(function (data) {\n        console.log('fetch done', data);\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(Index, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          currentState = _this$props.currentState,\n          dispatch = _this$props.dispatch;\n      return __jsx(\"div\", {\n        className: \"bodyContainer\"\n      }, __jsx(Head, null, __jsx(\"title\", null, \"Sanctuary World\"), __jsx(\"meta\", {\n        name: \"viewport\",\n        content: \"initial-scale=1.0, width=device-width\"\n      }), __jsx(\"link\", {\n        rel: \"stylesheet\",\n        type: \"text/css\",\n        href: \"/static/css/layout.css\"\n      })), __jsx(\"div\", {\n        className: \"wrapper\"\n      }, __jsx(\"div\", {\n        className: \"row\"\n      }, __jsx(\"div\", {\n        className: \"column\"\n      }, __jsx(Header, null))), __jsx(\"div\", {\n        className: \"row\"\n      }, __jsx(\"div\", {\n        className: \"column\"\n      }, __jsx(\"div\", {\n        className: \"row\"\n      }, __jsx(\"div\", {\n        className: \"column\"\n      }, __jsx(\"button\", {\n        onClick: this.bnetTestAuth\n      }, \"BNET CONNECTION\")), __jsx(\"div\", {\n        className: \"column\"\n      }, __jsx(Link, {\n        href: \"/auth/bnet\"\n      }, __jsx(\"a\", null, \"BNET TEST\"))))))));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(_ref) {\n        var reduxStore, req, isServer, token;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                reduxStore = _ref.reduxStore, req = _ref.req;\n                isServer = !!req;\n\n                if (!isServer) {\n                  _context.next = 6;\n                  break;\n                }\n\n                token = getCookie('token', req.headers.cookie);\n\n                if (!token) {\n                  _context.next = 6;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", _objectSpread({}, reduxStore, {\n                  currentState: reduxStore.getState()\n                }));\n\n              case 6:\n                return _context.abrupt(\"return\", _objectSpread({}, reduxStore, {\n                  currentState: reduxStore.getState()\n                }));\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getInitialProps(_x) {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return Index;\n}(Component);\n\nexport default connect()(Index);","map":{"version":3,"sources":["/Users/aethiss/Web/Projects/diablo/sanctuaryworld/pages/index.js"],"names":["React","Component","connect","Head","Link","fetch","require","Header","getCookie","Index","method","headers","Accept","credentials","then","resp","json","data","console","log","props","currentState","dispatch","bnetTestAuth","reduxStore","req","isServer","token","cookie","getState"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,IAAP,MAAiB,WAAjB;;AAEA,IAAMC,KAAK,GAAGC,OAAO,CAAC,YAAD,CAArB,C,CAEA;;;AACA,OAAOC,MAAP,MAAmB,2CAAnB,C,CAEA;;AACA,SAASC,SAAT,QAA0B,0BAA1B,C,CAEA;;IAEMC,K;;;;;;;;;;;;;;;;;;mEAmBW,YAAM;AACnBJ,MAAAA,KAAK,iDAAiD;AACpDK,QAAAA,MAAM,EAAE,MAD4C;AAEpDC,QAAAA,OAAO,EAAE;AACPC,UAAAA,MAAM,EAAE,mCADD;AAEP,0BAAgB;AAFT,SAF2C;AAMpDC,QAAAA,WAAW,EAAE;AANuC,OAAjD,CAAL,CAQGC,IARH,CAQQ,UAAAC,IAAI;AAAA,eAAIA,IAAI,CAACC,IAAL,EAAJ;AAAA,OARZ,EASGF,IATH,CASQ,UAAAG,IAAI,EAAI;AACZC,QAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BF,IAA1B;AACD,OAXH;AAYD,K;;;;;;;6BAEQ;AAAA,wBAC4B,KAAKG,KADjC;AAAA,UACCC,YADD,eACCA,YADD;AAAA,UACeC,QADf,eACeA,QADf;AAEP,aACE;AAAK,QAAA,SAAS,EAAC;AAAf,SACE,MAAC,IAAD,QACE,uCADF,EAEE;AACE,QAAA,IAAI,EAAC,UADP;AAEE,QAAA,OAAO,EAAC;AAFV,QAFF,EAME;AACE,QAAA,GAAG,EAAC,YADN;AAEE,QAAA,IAAI,EAAC,UAFP;AAGE,QAAA,IAAI,EAAC;AAHP,QANF,CADF,EAaE;AAAK,QAAA,SAAS,EAAC;AAAf,SACE;AAAK,QAAA,SAAS,EAAC;AAAf,SACE;AAAK,QAAA,SAAS,EAAC;AAAf,SACE,MAAC,MAAD,OADF,CADF,CADF,EAME;AAAK,QAAA,SAAS,EAAC;AAAf,SACE;AAAK,QAAA,SAAS,EAAC;AAAf,SACE;AAAK,QAAA,SAAS,EAAC;AAAf,SACE;AAAK,QAAA,SAAS,EAAC;AAAf,SACE;AAAQ,QAAA,OAAO,EAAE,KAAKC;AAAtB,2BADF,CADF,EAIE;AAAK,QAAA,SAAS,EAAC;AAAf,SACE,MAAC,IAAD;AAAM,QAAA,IAAI,EAAC;AAAX,SACE,6BADF,CADF,CAJF,CADF,CADF,CANF,CAbF,CADF;AAqCD;;;;;;;;;;;;AAxE8BC,gBAAAA,U,QAAAA,U,EAAYC,G,QAAAA,G;AACnCC,gBAAAA,Q,GAAW,CAAC,CAACD,G;;qBACfC,Q;;;;;AACIC,gBAAAA,K,GAAQnB,SAAS,CAAC,OAAD,EAAUiB,GAAG,CAACd,OAAJ,CAAYiB,MAAtB,C;;qBACnBD,K;;;;;mEAGGH,U;AACHH,kBAAAA,YAAY,EAAEG,UAAU,CAACK,QAAX;;;;mEAKfL,U;AACHH,kBAAAA,YAAY,EAAEG,UAAU,CAACK,QAAX;;;;;;;;;;;;;;;;;;;;EAfA5B,S;;AA4EpB,eAAeC,OAAO,GAAGO,KAAH,CAAtB","sourcesContent":["import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport Head from 'next/head'\nimport Link from 'next/link'\n\nconst fetch = require('node-fetch')\n\n// Components\nimport Header from '../src/components/container/header/Header'\n\n// libs\nimport { getCookie } from '../src/libs/cookieHelper'\n\n// Actions\n\nclass Index extends Component {\n  static async getInitialProps({ reduxStore, req }) {\n    const isServer = !!req\n    if (isServer) {\n      const token = getCookie('token', req.headers.cookie)\n      if (token) {\n        // await reduxStore.dispatch(autoLogin(token)) // Example\n        return {\n          ...reduxStore,\n          currentState: reduxStore.getState(),\n        }\n      }\n    }\n    return {\n      ...reduxStore,\n      currentState: reduxStore.getState(),\n    }\n  }\n\n  bnetTestAuth = () => {\n    fetch(`http://localhost:3000/api/auth/bnet/callback`, {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json, text/plain, */*',\n        'Content-Type': 'application/json',\n      },\n      credentials: 'same-origin',\n    })\n      .then(resp => resp.json())\n      .then(data => {\n        console.log('fetch done', data)\n      })\n  }\n\n  render() {\n    const { currentState, dispatch } = this.props\n    return (\n      <div className=\"bodyContainer\">\n        <Head>\n          <title>Sanctuary World</title>\n          <meta\n            name=\"viewport\"\n            content=\"initial-scale=1.0, width=device-width\"\n          />\n          <link\n            rel=\"stylesheet\"\n            type=\"text/css\"\n            href=\"/static/css/layout.css\"\n          />\n        </Head>\n        <div className=\"wrapper\">\n          <div className=\"row\">\n            <div className=\"column\">\n              <Header />\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"column\">\n              <div className=\"row\">\n                <div className=\"column\">\n                  <button onClick={this.bnetTestAuth}>BNET CONNECTION</button>\n                </div>\n                <div className=\"column\">\n                  <Link href=\"/auth/bnet\">\n                    <a>BNET TEST</a>\n                  </Link>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default connect()(Index)\n"]},"metadata":{},"sourceType":"module"}