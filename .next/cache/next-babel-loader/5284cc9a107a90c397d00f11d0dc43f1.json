{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Head from 'next/head';\nimport Link from 'next/link';\n\nconst fetch = require('node-fetch'); // Components\n\n\nimport Header from '../src/components/container/header/Header'; // libs\n\nimport { getCookie } from '../src/libs/cookieHelper'; // Actions\n\nclass Index extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"bnetTestAuth\", () => {\n      fetch(`http://localhost:3000/api/auth/bnet/callback`, {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json, text/plain, */*',\n          'Content-Type': 'application/json'\n        },\n        credentials: 'same-origin'\n      }).then(resp => resp.json()).then(data => {\n        console.log('fetch done', data);\n      });\n    });\n  }\n\n  static async getInitialProps({\n    reduxStore,\n    req\n  }) {\n    const isServer = !!req;\n\n    if (isServer) {\n      const token = getCookie('token', req.headers.cookie);\n\n      if (token) {\n        // await reduxStore.dispatch(autoLogin(token)) // Example\n        return _objectSpread({}, reduxStore, {\n          currentState: reduxStore.getState()\n        });\n      }\n    }\n\n    return _objectSpread({}, reduxStore, {\n      currentState: reduxStore.getState()\n    });\n  }\n\n  render() {\n    const {\n      currentState,\n      dispatch\n    } = this.props;\n    return __jsx(\"div\", {\n      className: \"bodyContainer\"\n    }, __jsx(Head, null, __jsx(\"title\", null, \"Sanctuary World\"), __jsx(\"meta\", {\n      name: \"viewport\",\n      content: \"initial-scale=1.0, width=device-width\"\n    }), __jsx(\"link\", {\n      rel: \"stylesheet\",\n      type: \"text/css\",\n      href: \"/static/css/layout.css\"\n    })), __jsx(\"div\", {\n      className: \"wrapper\"\n    }, __jsx(\"div\", {\n      className: \"row\"\n    }, __jsx(\"div\", {\n      className: \"column\"\n    }, __jsx(Header, null))), __jsx(\"div\", {\n      className: \"row\"\n    }, __jsx(\"div\", {\n      className: \"column\"\n    }, __jsx(\"div\", {\n      className: \"row\"\n    }, __jsx(\"div\", {\n      className: \"column\"\n    }, __jsx(\"button\", {\n      onClick: this.bnetTestAuth\n    }, \"BNET CONNECTION\")), __jsx(\"div\", {\n      className: \"column\"\n    }, __jsx(Link, {\n      href: \"/auth/bnet\"\n    }, __jsx(\"a\", null, \"BNET TEST\"))))))));\n  }\n\n}\n\nexport default connect()(Index);","map":{"version":3,"sources":["/Users/aethiss/Web/Projects/diablo/sanctuaryworld/pages/index.js"],"names":["React","Component","connect","Head","Link","fetch","require","Header","getCookie","Index","method","headers","Accept","credentials","then","resp","json","data","console","log","getInitialProps","reduxStore","req","isServer","token","cookie","currentState","getState","render","dispatch","props","bnetTestAuth"],"mappings":";;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,IAAP,MAAiB,WAAjB;;AAEA,MAAMC,KAAK,GAAGC,OAAO,CAAC,YAAD,CAArB,C,CAEA;;;AACA,OAAOC,MAAP,MAAmB,2CAAnB,C,CAEA;;AACA,SAASC,SAAT,QAA0B,0BAA1B,C,CAEA;;AAEA,MAAMC,KAAN,SAAoBR,SAApB,CAA8B;AAAA;AAAA;;AAAA,0CAmBb,MAAM;AACnBI,MAAAA,KAAK,CAAE,8CAAF,EAAiD;AACpDK,QAAAA,MAAM,EAAE,MAD4C;AAEpDC,QAAAA,OAAO,EAAE;AACPC,UAAAA,MAAM,EAAE,mCADD;AAEP,0BAAgB;AAFT,SAF2C;AAMpDC,QAAAA,WAAW,EAAE;AANuC,OAAjD,CAAL,CAQGC,IARH,CAQQC,IAAI,IAAIA,IAAI,CAACC,IAAL,EARhB,EASGF,IATH,CASQG,IAAI,IAAI;AACZC,QAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BF,IAA1B;AACD,OAXH;AAYD,KAhC2B;AAAA;;AAC5B,eAAaG,eAAb,CAA6B;AAAEC,IAAAA,UAAF;AAAcC,IAAAA;AAAd,GAA7B,EAAkD;AAChD,UAAMC,QAAQ,GAAG,CAAC,CAACD,GAAnB;;AACA,QAAIC,QAAJ,EAAc;AACZ,YAAMC,KAAK,GAAGhB,SAAS,CAAC,OAAD,EAAUc,GAAG,CAACX,OAAJ,CAAYc,MAAtB,CAAvB;;AACA,UAAID,KAAJ,EAAW;AACT;AACA,iCACKH,UADL;AAEEK,UAAAA,YAAY,EAAEL,UAAU,CAACM,QAAX;AAFhB;AAID;AACF;;AACD,6BACKN,UADL;AAEEK,MAAAA,YAAY,EAAEL,UAAU,CAACM,QAAX;AAFhB;AAID;;AAiBDC,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEF,MAAAA,YAAF;AAAgBG,MAAAA;AAAhB,QAA6B,KAAKC,KAAxC;AACA,WACE;AAAK,MAAA,SAAS,EAAC;AAAf,OACE,MAAC,IAAD,QACE,uCADF,EAEE;AACE,MAAA,IAAI,EAAC,UADP;AAEE,MAAA,OAAO,EAAC;AAFV,MAFF,EAME;AACE,MAAA,GAAG,EAAC,YADN;AAEE,MAAA,IAAI,EAAC,UAFP;AAGE,MAAA,IAAI,EAAC;AAHP,MANF,CADF,EAaE;AAAK,MAAA,SAAS,EAAC;AAAf,OACE;AAAK,MAAA,SAAS,EAAC;AAAf,OACE;AAAK,MAAA,SAAS,EAAC;AAAf,OACE,MAAC,MAAD,OADF,CADF,CADF,EAME;AAAK,MAAA,SAAS,EAAC;AAAf,OACE;AAAK,MAAA,SAAS,EAAC;AAAf,OACE;AAAK,MAAA,SAAS,EAAC;AAAf,OACE;AAAK,MAAA,SAAS,EAAC;AAAf,OACE;AAAQ,MAAA,OAAO,EAAE,KAAKC;AAAtB,yBADF,CADF,EAIE;AAAK,MAAA,SAAS,EAAC;AAAf,OACE,MAAC,IAAD;AAAM,MAAA,IAAI,EAAC;AAAX,OACE,6BADF,CADF,CAJF,CADF,CADF,CANF,CAbF,CADF;AAqCD;;AAzE2B;;AA4E9B,eAAe7B,OAAO,GAAGO,KAAH,CAAtB","sourcesContent":["import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport Head from 'next/head'\nimport Link from 'next/link'\n\nconst fetch = require('node-fetch')\n\n// Components\nimport Header from '../src/components/container/header/Header'\n\n// libs\nimport { getCookie } from '../src/libs/cookieHelper'\n\n// Actions\n\nclass Index extends Component {\n  static async getInitialProps({ reduxStore, req }) {\n    const isServer = !!req\n    if (isServer) {\n      const token = getCookie('token', req.headers.cookie)\n      if (token) {\n        // await reduxStore.dispatch(autoLogin(token)) // Example\n        return {\n          ...reduxStore,\n          currentState: reduxStore.getState(),\n        }\n      }\n    }\n    return {\n      ...reduxStore,\n      currentState: reduxStore.getState(),\n    }\n  }\n\n  bnetTestAuth = () => {\n    fetch(`http://localhost:3000/api/auth/bnet/callback`, {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json, text/plain, */*',\n        'Content-Type': 'application/json',\n      },\n      credentials: 'same-origin',\n    })\n      .then(resp => resp.json())\n      .then(data => {\n        console.log('fetch done', data)\n      })\n  }\n\n  render() {\n    const { currentState, dispatch } = this.props\n    return (\n      <div className=\"bodyContainer\">\n        <Head>\n          <title>Sanctuary World</title>\n          <meta\n            name=\"viewport\"\n            content=\"initial-scale=1.0, width=device-width\"\n          />\n          <link\n            rel=\"stylesheet\"\n            type=\"text/css\"\n            href=\"/static/css/layout.css\"\n          />\n        </Head>\n        <div className=\"wrapper\">\n          <div className=\"row\">\n            <div className=\"column\">\n              <Header />\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"column\">\n              <div className=\"row\">\n                <div className=\"column\">\n                  <button onClick={this.bnetTestAuth}>BNET CONNECTION</button>\n                </div>\n                <div className=\"column\">\n                  <Link href=\"/auth/bnet\">\n                    <a>BNET TEST</a>\n                  </Link>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default connect()(Index)\n"]},"metadata":{},"sourceType":"module"}